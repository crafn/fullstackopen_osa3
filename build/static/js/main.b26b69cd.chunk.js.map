{"version":3,"sources":["components/PersonService.js","index.js"],"names":["baseUrl","PersonService","axios","get","then","response","data","newPerson","post","id","put","concat","delete","Find","_ref","find","handleChange","react_default","a","createElement","value","onChange","PersonForm","_ref2","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Persons","_ref3","persons","deletePerson","filter","p","length","name","toLowerCase","includes","map","key","number","onClick","Notification","_ref4","message","isError","undefined","className","ReactDOM","render","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFind","_useState9","_useState10","notification","setNotification","showNotification","setTimeout","useEffect","personService","src_Notification","src_Find","evt","target","src_PersonForm","preventDefault","found","window","confirm","res","catch","err","src_Persons","document","getElementById"],"mappings":"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","file":"static/js/main.b26b69cd.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n\treturn axios.get(baseUrl).then(response => response.data);\r\n}\r\n\r\nconst create = (newPerson) => {\r\n\treturn axios.post(baseUrl, newPerson).then(response => response.data)\r\n}\r\n\r\nconst update = (id, newPerson) => {\r\n\treturn axios.put(`${baseUrl}/${id}`, newPerson).then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n\treturn axios.delete(`${baseUrl}/${id}`).then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\nimport ReactDOM from 'react-dom'\nimport personService from './components/PersonService'\nimport './index.css'\n\nconst Find = ({find, handleChange}) => {\n\treturn (\n\t\t<div>rajaa näytettäviä: <input\n\t\t\tvalue={find}\n\t\t\tonChange={handleChange}\n\t\t/>\n\t\t</div>\n\t);\n}\n\nconst PersonForm = ({addName, newName, handleNameChange, newNumber, handleNumberChange}) => {\n\treturn (\n\t\t<form onSubmit={addName}>\n\t\t\t<div>\n\t\t\t\tnimi: <input \n\t\t\t\t\tvalue={newName}\n\t\t\t\t\tonChange={handleNameChange}\n\t\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\tnumero: <input \n\t\t\t\t\tvalue={newNumber}\n\t\t\t\t\tonChange={handleNumberChange}\n\t\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<button type=\"submit\">lisää</button>\n\t\t\t</div>\n\t\t</form>\n\t)\n}\n\nconst Persons = ({persons, find, deletePerson}) => {\n\treturn (\n\t\t\tpersons.filter((p) => (find.length === 0 || p.name.toLowerCase().includes(find.toLowerCase())))\n\t\t\t.map((p) => <p key={p.name}>{p.name}, {p.number}\n\t\t\t<button onClick={() => deletePerson(p.id)}>Poista</button>\n\t\t\t</p>)\n\t)\n}\n\nconst Notification = ({message, isError}) => {\n\tif (message === null || message === undefined)\n\t\treturn null\n\n\tif (isError) {\n\t\treturn (<div className=\"error\">{message}</div>)\n\t} else {\n\t\treturn (<div className=\"notification\">{message}</div>)\n\t}\n}\n\nconst App = () => {\n\t\n\tconst [persons, setPersons] = useState([]) \n\tconst [newName, setNewName] = useState('')\n\tconst [newNumber, setNewNumber] = useState('')\n\tconst [find, setFind] = useState('')\n\tconst [notification, setNotification] = useState(null)\n\n\tconst handleNameChange = (evt) => {\n\t\tsetNewName(evt.target.value)\n\t}\n\t\n\tconst handleNumberChange = (evt) => {\n\t\tsetNewNumber(evt.target.value)\n\t}\n\t\n\tconst showNotification = (message, isError) => {\n\t\tsetNotification({message, isError})\n\t\tsetTimeout(() => {\n\t\t\tsetNotification(null)\n\t\t}, 5000)\n\t}\n\t\n\tconst addName = (evt) => {\n\t\tevt.preventDefault();\n\t\t\n\t\tconst newPerson = {\n\t\t\tname: newName,\n\t\t\tnumber: newNumber,\n\t\t};\n\t\t\n\t\tconst found = persons.filter((p) => p.name.toLowerCase() === newName.toLowerCase())\n\t\tif (found.length > 0) {\n\t\t\tif (window.confirm(`${newName} on jo luettelossa, korvataako numero?`)) {\n\t\t\t\tpersonService.update(found[0].id, newPerson)\n\t\t\t\t.then(res => {\n\t\t\t\t\tsetPersons(persons.map(p => (p.id === found[0].id ?\n\t\t\t\t\t{ name: p.name, number: newPerson.number, id: p.id }\n\t\t\t\t\t:\n\t\t\t\t\tp)))\n\t\t\t\t\tsetNewName('')\n\t\t\t\t\tsetNewNumber('')\n\t\t\t\t\tshowNotification(`Päivitettiin ${newPerson.name}`);\n\t\t\t\t})\n\t\t\t\t.catch(err => showNotification(`Henkilön ${newPerson.name} päivittäminen epäonnistui`, true))\n\t\t\t}\n\t\t\treturn\n\t\t}\n\t\t\n\t\tpersonService.create(newPerson)\n\t\t.then(res => {\n\t\t\tsetPersons(persons.concat(res))\n\t\t\tshowNotification(`Lisättiin ${newPerson.name}`);\n\t\t\tsetNewName('')\n\t\t\tsetNewNumber('')\n\t\t})\n\t\t.catch(err => showNotification(`Henkilön ${newPerson.name} lisääminen epäonnistui`, true));\n\t}\n\t\n\t\n\tconst handleFindChange = (evt) => {\n\t\tsetFind(evt.target.value)\n\t}\n\t\n\tconst deletePerson = (id) => {\n\t\tconst name = persons.filter(p => p.id === id)[0].name;\n\t\tif (window.confirm(`Poistetaanko ${name}?`)) {\n\t\t\tpersonService.remove(id).then(res => {\n\t\t\t\tsetPersons(persons.filter(p => p.id !== id));\n\t\t\t\tshowNotification(`Poistettiin ${name}`);\n\t\t\t})\n\t\t\t.catch(err => showNotification(`Henkilön ${name} poistaminen epäonnistui`, true));\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tpersonService.getAll()\n\t\t.then(data => {\n\t\t\tsetPersons(data)\n\t\t})\n\t}, []);\n\t\n\treturn (\n\t\t<div>\n\t\t<h2>Puhelinluettelo</h2>\n\t\t<Notification {...notification} />\n\t\t<Find find={find} handleChange={handleFindChange} />\n\n\t\t<h3>lisää uusi</h3>\n\t\t<PersonForm {...{addName, newName, handleNameChange, newNumber, handleNumberChange}} />\n\t\t\n\t\t<h2>Numerot</h2>\n\t\t<Persons {...{persons, find, deletePerson}} />\n\n\t\t</div>\n\t)\n\n}\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}